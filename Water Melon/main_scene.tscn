[gd_scene load_steps=22 format=3 uid="uid://bwxq5jw21a4ro"]

[ext_resource type="Script" path="res://player.gd" id="1_4x5po"]
[ext_resource type="Texture2D" uid="uid://cnt7wxwl378pr" path="res://art/Legacy-Fantasy - High Forest 2.3/Background/Background.png" id="2_7w8iq"]
[ext_resource type="Texture2D" uid="uid://csvjykank7674" path="res://art/Legacy-Fantasy - High Forest 2.3/Assets/Tiles.png" id="3_7ju8m"]
[ext_resource type="Shader" path="res://light.gdshader" id="5_00aga"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_onhbq"]
size = Vector2(1668, 758.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3tsyn"]
size = Vector2(393, 1931)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f4ycn"]
size = Vector2(160, 1998.25)

[sub_resource type="CanvasTexture" id="CanvasTexture_xrji8"]

[sub_resource type="Animation" id="Animation_ftjel"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_y18ac"]
resource_name = "shining"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(0.396078, 1, 0.858824, 1), Color(1, 1, 1, 0.321569), Color(0.396078, 1, 0.858824, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lhlgp"]
_data = {
"RESET": SubResource("Animation_ftjel"),
"shining": SubResource("Animation_y18ac")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s3ypd"]
size = Vector2(1218, 23.5)

[sub_resource type="Gradient" id="Gradient_kwran"]
colors = PackedColorArray(0.576471, 0.890196, 0.894118, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_0gd3d"]
gradient = SubResource("Gradient_kwran")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_v15qx"]
texture = ExtResource("3_7ju8m")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
6:0/0 = 0
7:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
19:0/0 = 0
20:0/0 = 0
21:0/0 = 0
22:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
17:1/0 = 0
18:1/0 = 0
19:1/0 = 0
20:1/0 = 0
21:1/0 = 0
22:1/0 = 0
23:1/0 = 0
24:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
17:2/0 = 0
18:2/0 = 0
19:2/0 = 0
20:2/0 = 0
21:2/0 = 0
22:2/0 = 0
23:2/0 = 0
24:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
19:3/0 = 0
20:3/0 = 0
21:3/0 = 0
22:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
17:4/0 = 0
18:4/0 = 0
19:4/0 = 0
20:4/0 = 0
21:4/0 = 0
22:4/0 = 0
23:4/0 = 0
24:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
17:5/0 = 0
18:5/0 = 0
19:5/0 = 0
20:5/0 = 0
21:5/0 = 0
22:5/0 = 0
23:5/0 = 0
24:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
19:6/0 = 0
20:6/0 = 0
21:6/0 = 0
22:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
17:7/0 = 0
18:7/0 = 0
19:7/0 = 0
20:7/0 = 0
21:7/0 = 0
22:7/0 = 0
23:7/0 = 0
24:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
12:8/0 = 0
13:8/0 = 0
17:8/0 = 0
18:8/0 = 0
19:8/0 = 0
20:8/0 = 0
21:8/0 = 0
22:8/0 = 0
23:8/0 = 0
24:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
11:9/0 = 0
19:9/0 = 0
20:9/0 = 0
21:9/0 = 0
22:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
6:10/0 = 0
7:10/0 = 0
8:10/0 = 0
9:10/0 = 0
10:10/0 = 0
11:10/0 = 0
12:10/0 = 0
13:10/0 = 0
14:10/0 = 0
17:10/0 = 0
18:10/0 = 0
19:10/0 = 0
20:10/0 = 0
21:10/0 = 0
22:10/0 = 0
23:10/0 = 0
24:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
4:11/0 = 0
5:11/0 = 0
6:11/0 = 0
7:11/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
14:11/0 = 0
17:11/0 = 0
18:11/0 = 0
19:11/0 = 0
20:11/0 = 0
21:11/0 = 0
22:11/0 = 0
23:11/0 = 0
24:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
6:12/0 = 0
7:12/0 = 0
8:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
19:12/0 = 0
20:12/0 = 0
21:12/0 = 0
22:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
8:13/0 = 0
9:13/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
17:13/0 = 0
18:13/0 = 0
19:13/0 = 0
20:13/0 = 0
21:13/0 = 0
22:13/0 = 0
23:13/0 = 0
24:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
4:14/0 = 0
5:14/0 = 0
6:14/0 = 0
7:14/0 = 0
8:14/0 = 0
9:14/0 = 0
10:14/0 = 0
11:14/0 = 0
12:14/0 = 0
13:14/0 = 0
17:14/0 = 0
18:14/0 = 0
19:14/0 = 0
20:14/0 = 0
21:14/0 = 0
22:14/0 = 0
23:14/0 = 0
24:14/0 = 0
0:15/0 = 0
1:15/0 = 0
2:15/0 = 0
4:15/0 = 0
5:15/0 = 0
6:15/0 = 0
7:15/0 = 0
8:15/0 = 0
9:15/0 = 0
10:15/0 = 0
11:15/0 = 0
12:15/0 = 0
13:15/0 = 0
15:15/0 = 0
16:15/0 = 0
17:15/0 = 0
18:15/0 = 0
19:15/0 = 0
20:15/0 = 0
21:15/0 = 0
22:15/0 = 0
0:16/0 = 0
1:16/0 = 0
2:16/0 = 0
4:16/0 = 0
5:16/0 = 0
6:16/0 = 0
7:16/0 = 0
8:16/0 = 0
9:16/0 = 0
10:16/0 = 0
15:16/0 = 0
16:16/0 = 0
17:16/0 = 0
18:16/0 = 0
19:16/0 = 0
20:16/0 = 0
21:16/0 = 0
22:16/0 = 0
0:17/0 = 0
1:17/0 = 0
2:17/0 = 0
3:17/0 = 0
4:17/0 = 0
5:17/0 = 0
15:17/0 = 0
16:17/0 = 0
17:17/0 = 0
18:17/0 = 0
19:17/0 = 0
20:17/0 = 0
21:17/0 = 0
22:17/0 = 0
0:18/0 = 0
1:18/0 = 0
2:18/0 = 0
3:18/0 = 0
4:18/0 = 0
5:18/0 = 0
6:18/0 = 0
7:18/0 = 0
8:18/0 = 0
9:18/0 = 0
15:18/0 = 0
16:18/0 = 0
17:18/0 = 0
18:18/0 = 0
19:18/0 = 0
20:18/0 = 0
21:18/0 = 0
0:19/0 = 0
1:19/0 = 0
2:19/0 = 0
3:19/0 = 0
4:19/0 = 0
5:19/0 = 0
6:19/0 = 0
7:19/0 = 0
8:19/0 = 0
9:19/0 = 0
15:19/0 = 0
16:19/0 = 0
17:19/0 = 0
18:19/0 = 0
19:19/0 = 0
20:19/0 = 0
21:19/0 = 0
22:19/0 = 0
23:19/0 = 0
24:19/0 = 0
0:20/0 = 0
1:20/0 = 0
2:20/0 = 0
3:20/0 = 0
4:20/0 = 0
5:20/0 = 0
6:20/0 = 0
7:20/0 = 0
8:20/0 = 0
9:20/0 = 0
15:20/0 = 0
16:20/0 = 0
17:20/0 = 0
18:20/0 = 0
19:20/0 = 0
20:20/0 = 0
21:20/0 = 0
22:20/0 = 0
23:20/0 = 0
24:20/0 = 0
0:21/0 = 0
1:21/0 = 0
2:21/0 = 0
3:21/0 = 0
4:21/0 = 0
5:21/0 = 0
6:21/0 = 0
7:21/0 = 0
8:21/0 = 0
9:21/0 = 0
10:21/0 = 0
11:21/0 = 0
12:21/0 = 0
13:21/0 = 0
14:21/0 = 0
15:21/0 = 0
16:21/0 = 0
17:21/0 = 0
18:21/0 = 0
19:21/0 = 0
20:21/0 = 0
0:22/0 = 0
1:22/0 = 0
2:22/0 = 0
3:22/0 = 0
4:22/0 = 0
5:22/0 = 0
6:22/0 = 0
7:22/0 = 0
8:22/0 = 0
9:22/0 = 0
10:22/0 = 0
11:22/0 = 0
12:22/0 = 0
13:22/0 = 0
14:22/0 = 0
15:22/0 = 0
16:22/0 = 0
17:22/0 = 0
18:22/0 = 0
19:22/0 = 0
20:22/0 = 0
21:22/0 = 0
15:23/0 = 0
16:23/0 = 0
17:23/0 = 0
18:23/0 = 0
19:23/0 = 0
20:23/0 = 0
21:23/0 = 0
15:24/0 = 0
16:24/0 = 0
17:24/0 = 0
18:24/0 = 0
19:24/0 = 0

[sub_resource type="TileSet" id="TileSet_a5gdn"]
sources/0 = SubResource("TileSetAtlasSource_v15qx")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cjxst"]
shader = ExtResource("5_00aga")
shader_parameter/angle = -0.3
shader_parameter/position = -0.2
shader_parameter/spread = 0.426
shader_parameter/cutoff = 0.136
shader_parameter/falloff = 0.528
shader_parameter/edge_fade = 0.433
shader_parameter/speed = 1.0
shader_parameter/ray1_density = 8.0
shader_parameter/ray2_density = 30.0
shader_parameter/ray2_intensity = 0.381
shader_parameter/color = Quaternion(1, 0.9, 0.65, 0.8)
shader_parameter/hdr = false
shader_parameter/seed = 5.0

[sub_resource type="CanvasTexture" id="CanvasTexture_ce3cq"]

[sub_resource type="Animation" id="Animation_0mxq6"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/ray2_intensity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.381]
}

[sub_resource type="Animation" id="Animation_lyvu3"]
resource_name = "lighting"
length = 6.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/ray2_intensity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.9, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.381, 0.277, 0.167]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2kt11"]
_data = {
"RESET": SubResource("Animation_0mxq6"),
"lighting": SubResource("Animation_lyvu3")
}

[node name="Node2D" type="Node2D"]
script = ExtResource("1_4x5po")
start_pos_y = 280.0

[node name="Wall" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall"]
position = Vector2(465, 2036)
shape = SubResource("RectangleShape2D_onhbq")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Wall"]
position = Vector2(-189.5, 1149.5)
shape = SubResource("RectangleShape2D_3tsyn")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Wall"]
position = Vector2(1161, 1076)
shape = SubResource("RectangleShape2D_f4ycn")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -69.0
offset_top = 98.0
offset_right = 69.0
offset_bottom = 411.0
grow_horizontal = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_shadow_color = Color(0.341176, 0.203922, 0.364706, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 5
theme_override_constants/shadow_offset_y = 5
theme_override_constants/outline_size = 12
theme_override_constants/shadow_outline_size = 3
theme_override_font_sizes/font_size = 120
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Deadline" type="Area2D" parent="."]
position = Vector2(-42, 268)

[node name="Sprite2D" type="Sprite2D" parent="Deadline"]
position = Vector2(582.75, 169)
scale = Vector2(1166.5, 18)
texture = SubResource("CanvasTexture_xrji8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Deadline/Sprite2D"]
root_node = NodePath("../..")
autoplay = "shining"
libraries = {
"": SubResource("AnimationLibrary_lhlgp")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deadline"]
position = Vector2(594, 109)
shape = SubResource("RectangleShape2D_s3ypd")
debug_color = Color(0, 0.6, 0.701961, 0)

[node name="Background" type="Node2D" parent="."]
z_index = -5

[node name="Background" type="Sprite2D" parent="Background"]
position = Vector2(518.471, 320)
scale = Vector2(2.34559, 2.34559)
texture = ExtResource("2_7w8iq")

[node name="Sprite2D" type="Sprite2D" parent="Background"]
position = Vector2(586, 1437)
rotation = 1.5708
scale = Vector2(6.48996, 1452.56)
texture = SubResource("GradientTexture1D_0gd3d")

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(43, -5948)
scale = Vector2(8, 8)
tile_set = SubResource("TileSet_a5gdn")
format = 2
layer_0/name = "Ground"
layer_0/z_index = -1
layer_0/tile_data = PackedInt32Array(3801088, 65536, 0, 3866624, 65536, 1, 3932160, 65536, 2, 3801089, 196608, 0, 3866625, 65536, 1, 3932161, 65536, 2, 3801090, 196608, 0, 3866626, 196608, 1, 3932162, 65536, 2, 3801091, 196608, 0, 3866627, 65536, 1, 3932163, 131072, 2, 3801092, 65536, 0, 3866628, 65536, 1, 3932164, 65536, 2, 3801093, 65536, 0, 3866629, 196608, 1, 3932165, 196608, 2, 3801094, 131072, 0, 3866630, 131072, 1, 3932166, 196608, 2, 3801095, 196608, 0, 3866631, 196608, 1, 3932167, 131072, 2, 3801096, 196608, 0, 3866632, 196608, 1, 3932168, 196608, 2, 3866623, 65536, 0, 3932159, 65536, 1, 3997695, 131072, 2, 4063231, 131072, 2, 4128767, 196608, 3, 3997696, 65536, 3, 4063232, 131072, 3, 3997697, 131072, 3, 4063233, 196608, 3, 3997698, 131072, 3, 4063234, 65536, 3, 3997699, 131072, 3, 4063235, 131072, 3, 3997700, 65536, 3, 4063236, 196608, 3, 3997701, 65536, 3, 4063237, 65536, 3, 3997702, 131072, 3, 4063238, 131072, 3, 3997703, 131072, 3, 4063239, 196608, 3, 3997704, 196608, 3, 4063240, 65536, 3, 3866622, 0, 0, 3932158, 0, 1, 3997694, 65536, 2, 4063230, 65536, 2, 3866633, 262144, 1, 3932169, 262144, 2, 3997705, 262144, 3, 3801097, 262144, 0, 4063241, 131072, 3, 4063242, 196608, 3, 4128765, 65536, 3, 4128766, 131072, 3)

[node name="Timer" type="Timer" parent="."]

[node name="Light" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_cjxst")
position = Vector2(653.75, 997.25)
scale = Vector2(1308.5, 1995.5)
texture = SubResource("CanvasTexture_ce3cq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Light"]
autoplay = "lighting"
libraries = {
"": SubResource("AnimationLibrary_2kt11")
}

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
